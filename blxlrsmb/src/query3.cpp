query3_version4.cc